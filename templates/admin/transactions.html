{% extends 'base.html' %}
{% block title %}거래 내역 관리 – WHS 중고거래 플랫폼{% endblock %}

{% block head %}
<style>
  /* 카드 레이아웃 */
  .admin-transactions-card {
    background: var(--card-bg);
    padding: 1.5rem;
    border-radius: var(--radius);
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    margin: 2rem auto;
    max-width: 1200px;
  }
  .admin-transactions-card h2 {
    margin-top: 0;
    color: var(--primary);
    font-size: 1.5rem;
    text-align: center;
  }

  /* 테이블 스타일 */
  .admin-transactions-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 1rem;
    font-size: 0.95rem;
  }
  .admin-transactions-table th,
  .admin-transactions-table td {
    padding: 0.75rem 1rem;
    border: 1px solid #eee;
    text-align: center;
  }
  .admin-transactions-table th {
    background: #f9f9f9;
    color: #555;
    font-weight: 600;
  }
  .admin-transactions-table tr:nth-child(even) {
    background: #fafafa;
  }
  .admin-transactions-table tr:hover {
    background: #e6f7ff;
  }

  /* 반응형: 작은 화면에서 ID, 상태 숨기기 */
  @media (max-width: 768px) {
    .admin-transactions-table th:nth-child(1),
    .admin-transactions-table td:nth-child(1),
    .admin-transactions-table th:nth-child(5),
    .admin-transactions-table td:nth-child(5) {
      display: none;
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="admin-transactions-card">
  <h2>거래 내역 관리</h2>
  <table class="admin-transactions-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>보낸이</th>
        <th>받는이</th>
        <th>금액</th>
        <th>상태</th>
        <th>일시</th>
      </tr>
    </thead>
    <tbody>
      {% for t in transactions %}
      <tr>
        <td>{{ t[0] }}</td>
        <td style="text-align:left;">{{ t[1] }}</td>
        <td style="text-align:left;">{{ t[2] }}</td>
        <td>{{ "{:,.0f}".format(t[3]) }}원</td>
        <td>{{ t[4] }}</td>
        <td>{{ t[5] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
